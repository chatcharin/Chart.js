<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xmlns:fb="http://www.facebook.com/2008/fbml">
<head>
	<!--
		Charisma v1.0.0

		Copyright 2012 Muhammad Usman
		Licensed under the Apache License v2.0
		http://www.apache.org/licenses/LICENSE-2.0

		http://usman.it
		http://twitter.com/halalit_usman
	-->
	<meta charset="utf-8">
	<title>Free HTML5 Bootstrap Admin Template</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="Charisma, a fully featured, responsive, HTML5, Bootstrap admin template.">
	<meta name="author" content="Muhammad Usman">

	<!-- The styles -->
	<link id="bs-css" href="css/bootstrap-cerulean.css" rel="stylesheet">

	<style type="text/css">
	  body {
		padding-bottom: 40px;
	  }
	  .sidebar-nav {
		padding: 9px 0;
	  }
           .box-content  .mes_box img.thumb {
              float: left;
              margin-right: 10px;
             }
         #cust-list .custlist ul li .lastdate {
            color: #808080;
            float: right;
            font-size: 11px;
            margin-right: 5px;
        }
          .box-content  .mes_box .lastname {
            font-weight: bold;
            line-height: 16px;
            padding-top: 8px;
        }
         .box-content  .mes_box .lastlog {
            color: #808080;
            font-size: 11px;
        }
        #_custlist {
    -moz-box-sizing: border-box;
    border-left: 1px solid #E0E0E0;
    float: left;
    padding-top: 10px;
    width: 310px;
}
 #_custlist .mes_box {
    display: block;
    height: 54px;
    margin: -5px 0 0 -10px;
    padding: 5px 0 0 10px;
    width: 290px;
    
}
 .box-content  .alert-success:hover {
    background: none repeat scroll 0 0 #F4F6F9;
    border-color: #E3E8F0;
    cursor: pointer;
}
  .box-content  .alert-unread {
    background: none repeat scroll 0 0 #ECEFF5;
    border-color: #E0E2EE;
    cursor: pointer;
}
 .box-content  .alert-select {
    background: none repeat scroll 0 0 #6D84B4;
    cursor: pointer;
}
::-webkit-scrollbar {
    width: 12px;
}
 
::-webkit-scrollbar-track {
    -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3); 
    border-radius: 10px;
}
 
::-webkit-scrollbar-thumb {
    border-radius: 10px;
    -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.5); 
}
    #chat-content {margin-top:10px;float:left;}
    #chat-content {width:40%;height:100%;min-height:100%;position:relative;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;float:left;}
      #chat-content #chat-header {padding:5px 19px 6px 22px;border-bottom:1px solid #e3e3e3;overflow:auto;}
      #chat-content #chat-header .customer-name {width:auto;padding-bottom:7px;font-size:16px;font-weight:bold;color:#333;float:left;}
        #chat-content #chat-header .customer-name a {font-size:16px;font-weight:bold;color:#333;
                    overflow: hidden;-o-text-overflow: ellipsis;text-overflow: ellipsis; white-space:nowrap;
                    max-width: 300px; display: inline-block; height: 19px;}
          #chat-content #chat-header .customer-name a:hover {text-decoration:underline;}
        #chat-content #chat-header .customer-name img {margin-left:5px; margin-top: 8px; vertical-align: top;}
      #chat-content #chat-header .customer-detail {float:right; margin-top: -3px;}
        #chat-content #chat-header .customer-detail button {color:#333;font-size:11px;font-weight:bold;line-height:18px;cursor:pointer;border:1px solid #a6a6a6;border-radius:3px;box-shadow:0px 1px 0px 0px #e5e5e5;background: rgb(253,253,253);background:-moz-linear-gradient(top, rgba(253,253,253,1) 0%, rgba(241,242,243,1) 100%);background:-webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(253,253,253,1)), color-stop(100%,rgba(241,242,243,1)));background:-webkit-linear-gradient(top, rgba(253,253,253,1) 0%,rgba(241,242,243,1) 100%);background:-o-linear-gradient(top, rgba(253,253,253,1) 0%,rgba(241,242,243,1) 100%);background:-ms-linear-gradient(top, rgba(253,253,253,1) 0%,rgba(241,242,243,1) 100%);background:linear-gradient(to bottom, rgba(253,253,253,1) 0%,rgba(241,242,243,1) 100%);filter:progid:DXImageTransform.Microsoft.gradient( startColorstr='#fdfdfd', endColorstr='#f1f2f3',GradientType=0 );}
        #chat-content #chat-header .customer-detail button:active {background:rgb(241,242,243);background:-moz-linear-gradient(top, rgba(241,242,243,1) 0%, rgba(253,253,253,1) 100%);background:-webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(241,242,243,1)), color-stop(100%,rgba(253,253,253,1)));background:-webkit-linear-gradient(top, rgba(241,242,243,1) 0%,rgba(253,253,253,1) 100%);background:-o-linear-gradient(top, rgba(241,242,243,1) 0%,rgba(253,253,253,1) 100%);background:-ms-linear-gradient(top, rgba(241,242,243,1) 0%,rgba(253,253,253,1) 100%);background:linear-gradient(to bottom, rgba(241,242,243,1) 0%,rgba(253,253,253,1) 100%);filter:progid:DXImageTransform.Microsoft.gradient( startColorstr='#f1f2f3', endColorstr='#fdfdfd',GradientType=0 );}
        #chat-content #chat-header .customer-detail button img{vertical-align:top; margin-top: 2px;}

      #chat-content .chatlog {padding:5px 20px 0px;border-top:2px solid #ededed; overflow-x: hidden; overflow-y:auto}
        #chat-content .chatlog .conversation {margin:16px 0 14px;clear:both; }
        #chat-content .chatlog .conversation.alert {background: #fffed3;box-shadow: 0px 0px 0px 8px #fffed3, 0px 0px 0px 9px #fef9db, 0px 0px 0px 10px #f3eed0;}
          #chat-content .chatlog .conversation .thumb {margin:2px 10px 0 0;float:left;}
            #chat-content .chatlog .conversation .thumb img {}
          #chat-content .chatlog .conversation .lasttime {font-size:11px;color:#bfbfbf;float:right;}
          #chat-content .chatlog .conversation .user {margin: 1px 0 4px 0; overflow: hidden;-o-text-overflow: ellipsis;text-overflow: ellipsis; white-space:nowrap;}
            #chat-content .chatlog .conversation .user a {color:#3b5998;font-weight:bold;}
              #chat-content .chatlog .conversation .user a:hover {text-decoration:underline;}
          #chat-content .chatlog .conversation .chattext {margin-left: 42px;}
          #chat-content .chatlog .conversation .chattext a {color: #3b5998;text-decoration: none;}
          #chat-content .chatlog .conversation .chattext a:hover {text-decoration: underline;}
          #chat-content .chatlog .conversation .chattext .crop {width: 135px; height: 135px; margin:2px 13px 10px 0px;border:1px solid #ccc;float:left; cursor: pointer;}

  #chat-content #chatcontrol {width:100%;padding:15px 19px 5px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;background:#f2f2f2;border-top:1px solid #cdcecf;position:absolute;bottom:0;}
  #chat-content #chatcontrol #chatBox {width:100%;height:93px;padding:5px;font:13px/13px tahoma,arial,verdana,sans-serif;border:1px solid #ccc;outline:none;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;resize:none;}
  #chat-content #chatcontrol .chatButton {height:31px;float:left; position:relative; margin-right: 10px; white-space: nowrap; }
  #chat-content #chatcontrol .chatButton button {cursor: pointer; outline: none; font:16px/16px 'supermarket'; color: #999;}
  #chat-content #chatcontrol .chatButton button:hover {color: #777;}
  #chat-content #chatcontrol .chatButton button img {vertical-align: middle;}

  #chat-content #chatcontrol .chatButton #preset {
    width:519px;height:195px; background: #fff;
    position:absolute;top:-210px;left:50%;margin-left:-255px;z-index:5;
    -webkit-border-radius: 5px; -moz-border-radius: 5px; border-radius: 5px;
    -moz-box-shadow:    1px 1px 6px 2px rgba(0,0,0,0.2);
    -webkit-box-shadow: 1px 1px 6px 2px rgba(0,0,0,0.2);
    box-shadow:         1px 1px 6px 2px rgba(0,0,0,0.2);
}
  #chat-content #chatcontrol .chatButton #preset .arrow {
      //background:url(/img/icon_arrow6.png);
    width: 30px; height: 25px; position: absolute; bottom: -25px; left: 250px;}

  #chat-content #chatcontrol .chatButton #preset ul {height:176px;padding-top:10px;list-style:none;overflow:hidden;}
  #chat-content #chatcontrol .chatButton #preset ul li {padding:0 10px; height: 20px; cursor: pointer;}

  #chat-content #chatcontrol .chatButton #preset ul li.active .key             { background:  #3bc4f3;}
  #chat-content #chatcontrol .chatButton #preset ul li.active .input input     { background:  #ecfcff;}
  #chat-content #chatcontrol .chatButton #preset ul li.active .input .btn_save {display: block;}

  #chat-content #chatcontrol .chatButton #preset ul li:not(.active):hover               .key,
  #chat-content #chatcontrol .chatButton #preset ul li:not(.active) .key:hover,
  #chat-content #chatcontrol .chatButton #preset ul li:not(.active) .input:hover       + .key {background: #a6a6a6;}

  #chat-content #chatcontrol .chatButton #preset ul li:not(.active):hover               input,
  #chat-content #chatcontrol .chatButton #preset ul li:not(.active) .key:hover + .input input,
  #chat-content #chatcontrol .chatButton #preset ul li:not(.active) .input:hover        input {background: #fffef6;}

  #chat-content #chatcontrol .chatButton #preset ul li:not(.active):hover               .btn_edit,
  #chat-content #chatcontrol .chatButton #preset ul li:not(.active) .key:hover + .input .btn_edit,
  #chat-content #chatcontrol .chatButton #preset ul li:not(.active) .input:hover        .btn_edit {display: block;}

  #chat-content #chatcontrol .chatButton #preset ul li .key {width:40px;height:17px;padding:5px 3px 0 3px;
    margin-right:1px; font:15px/15px 'supermarket';color:#fff;text-align:center;background:#9b9b9b;float:left; cursor: pointer;}

  #chat-content #chatcontrol .chatButton #preset ul li .input {width:452px;height: 22px;float:left;text-align: left; cursor: pointer;}
  #chat-content #chatcontrol .chatButton #preset ul li .input input {width:419px;height:22px;float:left;
    padding:0 5px 0 5px; margin-right: 3px; border:none; outline:none; cursor: pointer;}
  #chat-content #chatcontrol .chatButton #preset ul li .input .btn_edit {display: none; width: 20px; height: 20px; float: left;
                       // background:url(/img/btn_clip_edit.png) no-repeat;
                        background-size: 20px; cursor: pointer;}
  #chat-content #chatcontrol .chatButton #preset ul li .input .btn_save {display: none; width: 20px; height: 20px; float: left;
                       // background:url(/img/btn_clip_save.png) no-repeat; 
                        background-size: 20px; cursor: pointer;}

  #chat-content #chatcontrol .chatButton #preset #clipboard_up {padding:0;margin-left:-2px;position:absolute;top:8px;}
  #chat-content #chatcontrol .chatButton #preset #clipboard_down {padding:0;margin-left:-3px;position:absolute;bottom:33px;}
  #chat-content #chatcontrol button {background:none;border:none;padding:0;}
	</style>
	<link href="css/bootstrap-responsive.css" rel="stylesheet">
	<link href="css/charisma-app.css" rel="stylesheet">
	<link href="css/jquery-ui-1.8.21.custom.css" rel="stylesheet">
	<link href='css/fullcalendar.css' rel='stylesheet'>
	<link href='css/fullcalendar.print.css' rel='stylesheet'  media='print'>
	<link href='css/chosen.css' rel='stylesheet'>
	<link href='css/uniform.default.css' rel='stylesheet'>
	<link href='css/colorbox.css' rel='stylesheet'>
	<link href='css/jquery.cleditor.css' rel='stylesheet'>
	<link href='css/jquery.noty.css' rel='stylesheet'>
	<link href='css/noty_theme_default.css' rel='stylesheet'>
	<link href='css/elfinder.min.css' rel='stylesheet'>
	<link href='css/elfinder.theme.css' rel='stylesheet'>
	<link href='css/jquery.iphone.toggle.css' rel='stylesheet'>
	<link href='css/opa-icons.css' rel='stylesheet'>
	<link href='css/uploadify.css' rel='stylesheet'>

	<!-- The HTML5 shim, for IE6-8 support of HTML5 elements -->
	<!--[if lt IE 9]>
	  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->

	<!-- The fav icon -->
	<link rel="shortcut icon" href="img/favicon.ico">
	
</head>

<body>
		<!-- topbar starts -->
	<div class="navbar">
		<div class="navbar-inner">
			<div class="container-fluid">
				<a class="btn btn-navbar" data-toggle="collapse" data-target=".top-nav.nav-collapse,.sidebar-nav.nav-collapse">
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</a>
				<a class="brand" href="index.html"> <img alt="Charisma Logo" src="img/logo20.png" /> <span>Charisma</span></a>
				<div class="btn-group pull-right theme-container" >
                                <fb:login-button scope="xmpp_login,manage_pages,read_mailbox,read_page_mailboxes" on-login="login()"></fb:login-button>
				<!-- theme selector starts -->
                                <select id='pages' onchange="readMessage();"></select>
                                </div>
<!--				
					<a class="btn dropdown-toggle" data-toggle="dropdown" href="#">
						<i class="icon-tint"></i><span class="hidden-phone"> Change Theme / Skin</span>
						<span class="caret"></span>
					</a>
                                    
					<ul class="dropdown-menu" id="pages">
						<li><a data-value="classic" href="#"><i class="icon-blank"></i> Classic</a></li>
						<li><a data-value="cerulean" href="#"><i class="icon-blank"></i> Cerulean</a></li>
						<li><a data-value="cyborg" href="#"><i class="icon-blank"></i> Cyborg</a></li>
						<li><a data-value="redy" href="#"><i class="icon-blank"></i> Redy</a></li>
						<li><a data-value="journal" href="#"><i class="icon-blank"></i> Journal</a></li>
						<li><a data-value="simplex" href="#"><i class="icon-blank"></i> Simplex</a></li>
						<li><a data-value="slate" href="#"><i class="icon-blank"></i> Slate</a></li>
						<li><a data-value="spacelab" href="#"><i class="icon-blank"></i> Spacelab</a></li>
						<li><a data-value="united" href="#"><i class="icon-blank"></i> United</a></li>
					</ul>
				</div>-->
				<!-- theme selector ends -->
				
				<!-- user dropdown starts -->
				<div class="btn-group pull-right" >
					<a class="btn dropdown-toggle" data-toggle="dropdown" href="#">
						<i class="icon-user"></i><span class="hidden-phone"> admin</span>
						<span class="caret"></span>
					</a>
					<ul class="dropdown-menu">
						<li><a href="#">Profile</a></li>
						<li class="divider"></li>
						<li><a href="login.html">Logout</a></li>
					</ul>
				</div>
				<!-- user dropdown ends -->
				
				<div class="top-nav nav-collapse">
					<ul class="nav">
						<li><a href="#">Visit Site</a></li>
						<li>
							<form class="navbar-search pull-left">
								<input placeholder="Search" class="search-query span2" name="query" type="text">
							</form>
						</li>
					</ul>
				</div><!--/.nav-collapse -->
			</div>
		</div>
	</div>
	<!-- topbar ends -->
		<div class="container-fluid">
		<div class="row-fluid">
				
			<!-- left menu starts -->
			<div class="span2 main-menu-span">
				<div class="well nav-collapse sidebar-nav">
					<ul class="nav nav-tabs nav-stacked main-menu">
						<li class="nav-header hidden-tablet">Main</li>
						<li><a class="ajax-link" href="index.html"><i class="icon-home"></i><span class="hidden-tablet"> Dashboard</span></a></li>
						<li><a class="ajax-link" href="ui.html"><i class="icon-eye-open"></i><span class="hidden-tablet"> UI Features</span></a></li>
						<li><a class="ajax-link" href="form.html"><i class="icon-edit"></i><span class="hidden-tablet"> Forms</span></a></li>
						<li><a class="ajax-link" href="chart.html"><i class="icon-list-alt"></i><span class="hidden-tablet"> Charts</span></a></li>
						<li><a class="ajax-link" href="typography.html"><i class="icon-font"></i><span class="hidden-tablet"> Typography</span></a></li>
						<li><a class="ajax-link" href="gallery.html"><i class="icon-picture"></i><span class="hidden-tablet"> Gallery</span></a></li>
						<li class="nav-header hidden-tablet">Sample Section</li>
						<li><a class="ajax-link" href="table.html"><i class="icon-align-justify"></i><span class="hidden-tablet"> Tables</span></a></li>
						<li><a class="ajax-link" href="calendar.html"><i class="icon-calendar"></i><span class="hidden-tablet"> Calendar</span></a></li>
						<li><a class="ajax-link" href="grid.html"><i class="icon-th"></i><span class="hidden-tablet"> Grid</span></a></li>
						<li><a class="ajax-link" href="file-manager.html"><i class="icon-folder-open"></i><span class="hidden-tablet"> File Manager</span></a></li>
						<li><a href="tour.html"><i class="icon-globe"></i><span class="hidden-tablet"> Tour</span></a></li>
						<li><a class="ajax-link" href="icon.html"><i class="icon-star"></i><span class="hidden-tablet"> Icons</span></a></li>
						<li><a href="error.html"><i class="icon-ban-circle"></i><span class="hidden-tablet"> Error Page</span></a></li>
						<li><a href="login.html"><i class="icon-lock"></i><span class="hidden-tablet"> Login Page</span></a></li>
					</ul>
					<label id="for-is-ajax" class="hidden-tablet" for="is-ajax"><input id="is-ajax" type="checkbox"> Ajax on menu</label>
				</div><!--/.well -->
			</div><!--/span-->
			<!-- left menu ends -->
			
			<noscript>
				<div class="alert alert-block span10">
					<h4 class="alert-heading">Warning!</h4>
					<p>You need to have <a href="http://en.wikipedia.org/wiki/JavaScript" target="_blank">JavaScript</a> enabled to use this site.</p>
				</div>
			</noscript>
			
			<div id="content" class="span10">
			<!-- content starts -->
			

			<div>
				<ul class="breadcrumb">
					<li>
						<a href="#">Home</a> <span class="divider">/</span>
					</li>
					<li>
						<a href="#">Forms</a>
					</li>
				</ul>
			</div>
			
			<div class="row-fluid sortable">
				<div class="box span4" ">
					<div class="box-header well" data-original-title>
						<h2><i class="icon-edit"></i> Message inbox </h2>
						<div class="box-icon">
							<a href="#" class="btn btn-setting btn-round"><i class="icon-cog"></i></a>
							<a href="#" class="btn btn-minimize btn-round"><i class="icon-chevron-up"></i></a>
							<a href="#" class="btn btn-close btn-round"><i class="icon-remove"></i></a>
						</div>
					</div>
					<div class="box-content">
                                              <div class="box-content alerts" id="_custlist"  style="height:450px;overflow-y: auto;">
<!--						<div class="alert alert-error">
							<button data-dismiss="alert" class="close" type="button">×</button>
							<strong>Oh snap!</strong> Change a few things up and try submitting again.
						</div>
						
						<div class="alert alert-info">
							<button data-dismiss="alert" class="close" type="button">×</button>
							<strong>Heads up!</strong> This alert needs your attention, but it's not super important.
						</div>
						<div class="alert alert-block ">
							<button data-dismiss="alert" class="close" type="button">×</button>
							<h4 class="alert-heading">Warning!</h4>
							<p>Best check yo self, you're not looking too good. Nulla vitae elit libero, a pharetra augue. Praesent commodo cursus magna, vel scelerisque nisl consectetur et.</p>
						</div>-->
					</div>

					</div>
				</div><!--/span-->
                                <div class="box span8">
					<div class="box-header well" data-original-title>
						<h2><i class="icon-edit"></i> Form Elements</h2>
						<div class="box-icon">
							<a href="#" class="btn btn-setting btn-round"><i class="icon-cog"></i></a>
							<a href="#" class="btn btn-minimize btn-round"><i class="icon-chevron-up"></i></a>
							<a href="#" class="btn btn-close btn-round"><i class="icon-remove"></i></a>
						</div>
					</div>
					<div class="box-content" id="chat-content" style="width: 555px; height: 500px;">
          <div id="chat-header">
            <div class="customer-name"><a href="#" id="curr_name_chat">Kuanjum Sureerat</a><img id="curr_img_chat" src="" width="8" height="8" alt=""></div>
            <!-- div class="customer-detail align-right"><button id='purchase-history'><img src="img/icon_history.png">&nbsp;ประวัติการซื้อ</button></div-->
          </div>

              <div id="chatlogEL" class="chatlog" style="width: 100%; height: 300px;"><span>
    <div class="conversation">
      <div class=" thumb">
        <img width="32" height="32" src="https://graph.facebook.com/100000359790777/picture?access_token=CAAJXmMZCdnVMBAGchK0V7kfsdz2YJGDfLAihyzO0ZBZA5qHfeZB26ZCIwdEOyMmK0s8xc9O6yH60KLUWQfH8UZCcYiCUDkOEBU0cgpTxEdKGgCmrCcgiI7bziUxl8gcZCOqGhrlAv6zyaoYQC8uBxk8veL05I5J8ixxeQ4r9JstCa0Y1VDd3JfW">
      </div>
      <div class="lasttime">17 Nov</div>
      <div class="user"><a href="https://www.facebook.com/100000359790777" target="_blank">Kuanjum Sureerat</a></div>
      <div class="chattext">
          <p style="white-space: pre-wrap;">ขอให้โลกสงบ ปราศจากคนเลว</p>
          </div></div></span>
                  <span>
    <div class="conversation">
      <div class=" thumb">
        <img width="32" height="32" src="https://graph.facebook.com/145509828882365/picture?access_token=CAAJXmMZCdnVMBAGchK0V7kfsdz2YJGDfLAihyzO0ZBZA5qHfeZB26ZCIwdEOyMmK0s8xc9O6yH60KLUWQfH8UZCcYiCUDkOEBU0cgpTxEdKGgCmrCcgiI7bziUxl8gcZCOqGhrlAv6zyaoYQC8uBxk8veL05I5J8ixxeQ4r9JstCa0Y1VDd3JfW">
      </div>
      <div class="lasttime">28 Mar</div>
      <div class="user"><a href="https://www.facebook.com/145509828882365" target="_blank">ลอยกระทงออนไลน์ (Chatcharin Pingkeaw)</a></div>
      <div class="chattext">
          <p style="white-space: pre-wrap;">ทดสอบ</p>
          </div></div></span><span>
    <div class="conversation">
      <div class=" thumb">
        <img width="32" height="32" src="https://graph.facebook.com/145509828882365/picture?access_token=CAAJXmMZCdnVMBAGchK0V7kfsdz2YJGDfLAihyzO0ZBZA5qHfeZB26ZCIwdEOyMmK0s8xc9O6yH60KLUWQfH8UZCcYiCUDkOEBU0cgpTxEdKGgCmrCcgiI7bziUxl8gcZCOqGhrlAv6zyaoYQC8uBxk8veL05I5J8ixxeQ4r9JstCa0Y1VDd3JfW">
      </div>
      <div class="lasttime">28 Mar</div>
      <div class="user"><a href="https://www.facebook.com/145509828882365" target="_blank">ลอยกระทงออนไลน์ (Chatcharin Pingkeaw)</a></div>
      <div class="chattext">
          <p style="white-space: pre-wrap;">เทส</p>
          </div></div></span></div>


          <div id="chatcontrol">
            <textarea id="chatBox" rows="3"></textarea>
            <br>
            <!--
              <div class="chatButton">
                <button id=""><img src="img/chat_image.png"> ส่งรูปภาพ </button>
              </div>
              <div class="chatButton">
                <button id=""><img src="img/chat_product.png"> ส่งสินค้า </button>
              </div>
            -->
            <div class="chatButton">
                <button id="upload_from_pc">
                    <img src="" id="upload_icon"> ส่งรูปภาพ 
                </button>

                <span style="display:none;">
                    <form id="form_upload" target="frame" action="http://www.sellsuki.com/uploadupload" method="POST" enctype="multipart/form-data">
                    <input name="img_upload" type="file" id="img_upload" style="display:none;" accept="image/*">
                    <input name="h_fid" type="hidden" value="145509828882365" <button="">Submit
                    </form>

                    <iframe id="iframe_upload" name="frame" style="display:none;"></iframe>
                <span>
            </span></span></div>
            <div class="chatButton">
              <button id="clipboard" class="clipboard_btn">
                  <img src="" class="clipboard_btn"> คำที่พูดบ่อย</button>
              <div id="preset" style="display:none;">
                <!--button id="clipboard_up"><img src="img/preset_up.png"></button-->
                <ul id="clipboards_list"><li>

                    <div class="key">ctrl+1</div><div class="input"><input readonly="" type="text" value="สวัสดีค่ะ"><div class="btn_edit"></div><div class="btn_save"></div></div>
                  </li><li>

                    <div class="key">ctrl+2</div><div class="input"><input readonly="" type="text" value="ขอบคุณมากที่อุดหนุนค่ะ"><div class="btn_edit"></div><div class="btn_save"></div></div>
                  </li><li>

                    <div class="key">ctrl+3</div><div class="input"><input readonly="" type="text" value="มีปัญหาอะไรสอบถามได้เลยนะคะ"><div class="btn_edit"></div><div class="btn_save"></div></div>
                  </li><li>

                    <div class="key">ctrl+4</div><div class="input"><input readonly="" type="text" value="รอสักครู่นะคะ ขอตรวจสอบข้อมูลก่อนค่ะ"><div class="btn_edit"></div><div class="btn_save"></div></div>
                  </li><li>

                    <div class="key">ctrl+5</div><div class="input"><input readonly="" type="text" value="ขออภัยสินค้านี้หมดชั่วคราว รับอย่างอื่นแทนมั้ยคะ"><div class="btn_edit"></div><div class="btn_save"></div></div>
                  </li><li>

                    <div class="key">ctrl+6</div><div class="input"><input readonly="" type="text" value="ได้รับสินค้าเรียบร้อยแล้วหรือยังคะ"><div class="btn_edit"></div><div class="btn_save"></div></div>
                  </li><li>

                    <div class="key">ctrl+7</div><div class="input"><input readonly="" type="text" value="เมล์สอบถามได้ที่ email นี้ค่ะ"><div class="btn_edit"></div><div class="btn_save"></div></div>
                  </li><li>

                    <div class="key">ctrl+8</div><div class="input"><input readonly="" type="text" value="โทรสอบถามได้ที่เบอร์นี้ค่ะ"><div class="btn_edit"></div><div class="btn_save"></div></div>
                  </li></ul>
                <!--button id="clipboard_down"><img src="img/preset_down.png"></button-->
                <div class="arrow"></div>
              </div>
            </div>

            <div class="onoffswitch">
                <input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="myonoffswitch" checked="">
                <label class="onoffswitch-label" for="myonoffswitch">
                    <div class="onoffswitch-inner"></div>
                    <div class="onoffswitch-switch"></div>
                </label>
            </div>

          </div>

<!--						<form class="form-horizontal">
							<fieldset>
							  <div class="control-group">
								<label class="control-label" for="prependedInput">Prepended text</label>
								<div class="controls">
								  <div class="input-prepend">
									<span class="add-on">@</span><input id="prependedInput" size="16" type="text">
								  </div>
								  <p class="help-block">Here's some help text</p>
								</div>
							  </div>
							  <div class="control-group">
								<label class="control-label" for="appendedInput">Appended text</label>
								<div class="controls">
								  <div class="input-append">
									<input id="appendedInput" size="16" type="text"><span class="add-on">.00</span>
								  </div>
								  <span class="help-inline">Here's more help text</span>
								</div>
							  </div>
							  <div class="control-group">
								<label class="control-label" for="appendedPrependedInput">Append and prepend</label>
								<div class="controls">
								  <div class="input-prepend input-append">
									<span class="add-on">$</span><input id="appendedPrependedInput" size="16" type="text"><span class="add-on">.00</span>
								  </div>
								</div>
							  </div>
							  <div class="control-group">
								<label class="control-label" for="appendedInputButton">Append with button</label>
								<div class="controls">
								  <div class="input-append">
									<input id="appendedInputButton" size="16" type="text"><button class="btn" type="button">Go!</button>
								  </div>
								</div>
							  </div>
							  <div class="control-group">
								<label class="control-label" for="appendedInputButtons">Two-button append</label>
								<div class="controls">
								  <div class="input-append">
									<input id="appendedInputButtons" size="16" type="text"><button class="btn" type="button">Search</button><button class="btn" type="button">Options</button>
								  </div>
								</div>
							  </div>
							  <div class="control-group">
								<label class="control-label">Checkboxes</label>
								<div class="controls">
								  <label class="checkbox inline">
									<input type="checkbox" id="inlineCheckbox1" value="option1"> Option 1
								  </label>
								  <label class="checkbox inline">
									<input type="checkbox" id="inlineCheckbox2" value="option2"> Option 2
								  </label>
								  <label class="checkbox inline">
									<input type="checkbox" id="inlineCheckbox3" value="option3"> Option 3
								  </label>
								</div>
							  </div>
							  <div class="control-group">
								<label class="control-label">File Upload</label>
								<div class="controls">
								  <input type="file">
								</div>
							  </div>
							  <div class="control-group">
								<label class="control-label">Radio buttons</label>
								<div class="controls">
								  <label class="radio">
									<input type="radio" name="optionsRadios" id="optionsRadios1" value="option1" checked="">
									Option one is this and that—be sure to include why it's great
								  </label>
								  <div style="clear:both"></div>
								  <label class="radio">
									<input type="radio" name="optionsRadios" id="optionsRadios2" value="option2">
									Option two can be something else and selecting it will deselect option one
								  </label>
								</div>
							  </div>
							  <div class="form-actions">
								<button type="submit" class="btn btn-primary">Save changes</button>
								<button class="btn">Cancel</button>
							  </div>
							</fieldset>
						</form>-->
					</div>
				</div><!--/span-->
			</div><!--/row-->

			
			<div class="row-fluid sortable">
				

			</div><!--/row-->
    
					<!-- content ends -->
			</div><!--/#content.span10-->
				</div><!--/fluid-row-->
				
		<hr>

		<div class="modal hide fade" id="myModal">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal">×</button>
				<h3>Settings</h3>
			</div>
			<div class="modal-body">
				<p>Here settings can be configured...</p>
			</div>
			<div class="modal-footer">
				<a href="#" class="btn" data-dismiss="modal">Close</a>
				<a href="#" class="btn btn-primary">Save changes</a>
			</div>
		</div>

		<footer>
			<p class="pull-left">&copy; <a href="http://usman.it" target="_blank">Muhammad Usman</a> 2012</p>
			<p class="pull-right">Powered by: <a href="http://usman.it/free-responsive-admin-template">Charisma</a></p>
		</footer>
		
	</div><!--/.fluid-container-->

	<!-- external javascript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->

	<!-- jQuery -->
	<script src="js/jquery-1.7.2.min.js"></script>
	<!-- jQuery UI -->
	<script src="js/jquery-ui-1.8.21.custom.min.js"></script>
	<!-- transition / effect library -->
	<script src="js/bootstrap-transition.js"></script>
	<!-- alert enhancer library -->
	<script src="js/bootstrap-alert.js"></script>
	<!-- modal / dialog library -->
	<script src="js/bootstrap-modal.js"></script>
	<!-- custom dropdown library -->
	<script src="js/bootstrap-dropdown.js"></script>
	<!-- scrolspy library -->
	<script src="js/bootstrap-scrollspy.js"></script>
	<!-- library for creating tabs -->
	<script src="js/bootstrap-tab.js"></script>
	<!-- library for advanced tooltip -->
	<script src="js/bootstrap-tooltip.js"></script>
	<!-- popover effect library -->
	<script src="js/bootstrap-popover.js"></script>
	<!-- button enhancer library -->
	<script src="js/bootstrap-button.js"></script>
	<!-- accordion library (optional, not used in demo) -->
	<script src="js/bootstrap-collapse.js"></script>
	<!-- carousel slideshow library (optional, not used in demo) -->
	<script src="js/bootstrap-carousel.js"></script>
	<!-- autocomplete library -->
	<script src="js/bootstrap-typeahead.js"></script>
	<!-- tour library -->
	<script src="js/bootstrap-tour.js"></script>
	<!-- library for cookie management -->
	<script src="js/jquery.cookie.js"></script>
	<!-- calander plugin -->
	<script src='js/fullcalendar.min.js'></script>
	<!-- data table plugin -->
	<script src='js/jquery.dataTables.min.js'></script>

	<!-- chart libraries start -->
	<script src="js/excanvas.js"></script>
	<script src="js/jquery.flot.min.js"></script>
	<script src="js/jquery.flot.pie.min.js"></script>
	<script src="js/jquery.flot.stack.js"></script>
	<script src="js/jquery.flot.resize.min.js"></script>
	<!-- chart libraries end -->

	<!-- select or dropdown enhancer -->
	<script src="js/jquery.chosen.min.js"></script>
	<!-- checkbox, radio, and file input styler -->
	<script src="js/jquery.uniform.min.js"></script>
	<!-- plugin for gallery image view -->
	<script src="js/jquery.colorbox.min.js"></script>
	<!-- rich text editor library -->
	<script src="js/jquery.cleditor.min.js"></script>
	<!-- notification plugin -->
	<script src="js/jquery.noty.js"></script>
	<!-- file manager library -->
	<script src="js/jquery.elfinder.min.js"></script>
	<!-- star rating plugin -->
	<script src="js/jquery.raty.min.js"></script>
	<!-- for iOS style toggle switch -->
	<script src="js/jquery.iphone.toggle.js"></script>
	<!-- autogrowing textarea plugin -->
	<script src="js/jquery.autogrow-textarea.js"></script>
	<!-- multiple file upload plugin -->
	<script src="js/jquery.uploadify-3.1.min.js"></script>
	<!-- history.js for cross-browser state change on ajax -->
	<script src="js/jquery.history.js"></script>
	<!-- application script for Charisma demo -->
	<script src="js/charisma.js"></script>
<div id="fb-root"></div>
<script>
	var connection = null;
        var _sender_id = '';
	function log(msg) {
		$('<div></div>').append(document.createTextNode(msg)).prependTo($('#log'));
	}

	function onConnect(status) {
		if (status == Strophe.Status.CONNECTING) {
			log('Strophe is connecting.');
		} else if (status == Strophe.Status.CONNFAIL) {
			log('Strophe failed to connect.');
			$('#connect').get(0).value = 'connect';
		} else if (status == Strophe.Status.DISCONNECTING) {
			log('Strophe is disconnecting.');
		} else if (status == Strophe.Status.DISCONNECTED) {
			log('Strophe is disconnected.');
			$('#connect').get(0).value = 'connect';
		} else if (status == Strophe.Status.CONNECTED) {
			log('Strophe is connected.');
			log('Send a message to ' + connection.jid +
			' to talk to me.');

			connection.addHandler(onMessage, null, 'message', null, null,  null);
			connection.send($pres().tree());
		}
	}

	function onMessage(msg) {
		var to = msg.getAttribute('to');
		var from = msg.getAttribute('from');
		var type = msg.getAttribute('type');
		var elems = msg.getElementsByTagName('body');

		if (type == "chat" && elems.length > 0) {
			var body = elems[0];

			log('I got a message from ' + from + ': ' +
			Strophe.getText(body));
		}

		// we must return true to keep the handler alive.
		// returning false would remove it after it finishes.
		return true;
	}

	function sendMessage() {
		var message = $('#chatBox').get(0).value;
               // alert(t_id);
		//var to = '-' + $('#to').get(0).value + "@chat.facebook.com";
//		var to = '-' + _sender_id + "@chat.facebook.com";
//		if(message && to){
//			var reply = $msg({
//				to: to,
//				type: 'chat'
//			})
//			.cnode(Strophe.xmlElement('body', message));
//			connection.send(reply.tree());
//
//			log('I sent ' + to + ': ' + message);
//		}
               // $edge, 'POST', array('message' => $message));
                FB.api('/'+t_id+'/messages', 'post',{message:message,access_token : pageAccessToken}, function(response) {
                      console.log(response);
                      $('#chatBox').get(0).value=''; 
                      getMessage();
                      //alert('comple');
                });
	}
 
        function getMessage(){
                            FB.api('/'+t_id+'/messages?fields=from,message,attachments',{access_token : pageAccessToken}, function(response) {
				var to = $("#chatlogEL");
				to.empty();
                               
//                                $.each(response.data, function(i,v){
//                                    
//                                });
                                    ;
                                 //   alert(response.data.length);
                                             for (var n =response.data.length-1 ; n >=0 ; n --) {
                                                var  v = response.data[n];
                                     var chat_html ='';           
                                   chat_html +='<div class="conversation">';
                                   chat_html +='<div class="thumb">';
                                   chat_html +='<img width="32" height="32" src="https://graph.facebook.com/'+v.from.id+'/picture?access_token='+pageAccessToken+'">';
                                   chat_html +='</div>';
                                   chat_html +='<div class="lasttime">17 Nov</div>';
                                   chat_html +='<div class="user"><a href="https://www.facebook.com/'+v.from.id+'" target="_blank">'+v.from.name+'</a></div>';
                                   chat_html +='<div class="chattext">';
                                   chat_html +='<p style="white-space: pre-wrap;">'+v.message+'</p>';
                                   chat_html +='</div></div></span>';
                                     to.append(chat_html);
                               
			  	//to.append($("<li><a data-value='" + v.id + "' href='#'><i class='icon-blank'></i> " + v.name + "</a></li>"));
			       }
                            
                                $("#chatlogEL").animate({ scrollTop: $(document).height() }, "slow");
                            });
                            
        }
      function  chageAtive(t){
            var el_a =$('.alert-select');
            el_a.removeClass('alert-select');
            el_a.removeClass('mes_box');
              el_a.addClass('alert-success mes_box');
              $(t).removeClass('alert-success');
               $(t).removeClass('mes_box');
              $(t).addClass('alert-select mes_box');

        }
	$(document).ready( function () {
		//connection = new Strophe.Connection('/http-bind/');

		// Uncomment the following lines to spy on the wire traffic.
		//connection.rawInput = function (data) { log('RECV: ' + data); };
		//connection.rawOutput = function (data) { log('SEND: ' + data); };

		// Uncomment the following line to see all the debug output.
		//Strophe.log = function (level, msg) { log('LOG: ' + msg); };
		
		$('#send').bind('click', function () {
			sendMessage();
		});
                $('#read').bind('click',function(){
                        readMessage();
                });
                 $('#getdata').bind('click',function(){
                        getData()();
                });
                $('#chatBox').on('keypress', function (event) {
                     if(event.which == '13'){
                         sendMessage();
                         }
                   });
	});
         var pageAccessToken='';
         var pass_this_variable='';
         var user_token ='';
         var t_id = '';
	function login() {
		FB.getLoginStatus(function(response) {
		  if (response.authResponse) {
//			   connection.facebookConnect(
//				response.authResponse.userId + "@chat.facebook.com", 
//				onConnect, 
//				60,
//				1, 
//				'592473997477771',
//				response.authResponse.accessToken);
                            //  pass_this_variable = response.authResponse.userId;  
                        user_token =   response.authResponse.accessToken;  
			FB.api('/me/accounts', function(response) {
				var to = $("#pages");
				to.empty();
			  $.each(response.data, function(i,v){
                              to.append($("<option value='" + v.id + "'>" + String(v.name).substr(0,32) + "</option>"));
			  	//to.append($("<li><a data-value='" + v.id + "' href='#'><i class='icon-blank'></i> " + v.name + "</a></li>"));
			  });
			});
				
		  } else {
		   connection.disconnect();
		  }
		});
	}
    
        function readMessage(){
                var id =$('#pages').get(0).value ;
                pass_this_variable = id;
                FB.api('/'+id+'?fields=access_token', function(response) {
                    pageAccessToken=response['access_token'];
                    getData();
                   // alert(pass_this_variable);
                    FB._apiKey = '592473997477771';
                //    alert(FB._apiKey);
                //     alert(pageAccessToken);
//                    connection.facebookConnect(
//				pass_this_variable + "@chat.facebook.com", 
//				onConnect, 
//				60,
//				1, 
//				'592473997477771',
//				pageAccessToken);
                     //FB.setAccessToken(access_tk);                    
                    // alert(access_tk);         
                });
               
        }
       function getData(){
                alert("test");
                var id =$('#pages').get(0).value ;

                FB.api('/'+id+'?fields=conversations',{access_token : pageAccessToken}, function(response) {
				var to = $("#_custlist");
				to.empty();
                          var html_str ='';
                          var lastname ='';
                          var s_id ='';
			  $.each(response.conversations.data, function(i,v){
                                    if (v.senders.data[0].id==pass_this_variable) {
                                         //  html_str+=v.senders.data[1].id;
                                           s_id = v.senders.data[1].id;
                                           lastname =v.senders.data[1].name;
                                    } else{  
                                          //  html_str+=v.senders.data[0].id ;
                                            s_id = v.senders.data[0].id;
                                            lastname =v.senders.data[0].name;
                                    }
                                    
                               html_str+='<div class="alert-success mes_box" onclick="_sender_id='+s_id+';t_id=\''+v.id+'\';chageAtive(this);getMessage();">';
                               html_str+='<img class="thumb" width="50" height="50" src="https://graph.facebook.com/'+s_id;
                               html_str+='/picture?access_token='+pageAccessToken+'" >\n';                            
                               html_str+='<strong>'+lastname+'</strong>';
                               html_str+='<div class="lastlog">';
                                 if(typeof v.snippet != 'undefined'){
                                      html_str+=String(v.snippet).substr(0,32);
                                   }else{
                                     html_str+= 'attachments';
                                }
                                html_str+='...</div>';
			       html_str+='</div>';
                                    
                            /*        
                            html_str+='<li onclick="_sender_id='+s_id+';t_id=\''+v.id+'\';"><span class="block">\n';
                                html_str+='<img class=" thumb" width="50" height="50" src="https://graph.facebook.com/'+s_id;
 
                                html_str+='/picture?access_token='+pageAccessToken+'" >\n';
                                var _read =' << ';
                                      if(typeof v.unread_count != 'undefined'){
                                           _read = ' ( '+v.unread_count+' )';
                                      }
                                html_str+='<div class="lastdate">'+String(v.updated_time).substr(0,10)+_read+' </div>\n';
                                html_str+='<div class="lastname">\n'+lastname;
                                html_str+='</div>';
                                html_str+='<div class="lastlog">';
                                 if(typeof v.snippet != 'undefined'){
                                      html_str+=String(v.snippet).substr(0,32);
                                   }else{
                                     html_str+= 'attachments';
                                }
                                html_str+='...</div>';
                                html_str+='</span></li>'; */
                               // alert(v);
			   
			  });
                          html_str+='';
                          to.append(html_str);
		});
       }

</script>	
<script>
  window.fbAsyncInit = function() {
    FB.init({appId: '592473997477771', status: true, cookie: true,
             xfbml: true});
			 
  	if (window.fbAsyncInited) {
		fbAsyncInited();
	}
  };
  (function() {
		var e = document.createElement('script');
		e.async = true;
		e.src = document.location.protocol + '//connect.facebook.net/en_US/all.js';
		document.getElementById('fb-root').appendChild(e);
  }());
</script>	
		
</body>
</html>
